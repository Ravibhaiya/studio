@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background-hsl: 210 17% 98%; /* Google's --md-sys-color-surface-bright: #F8F9FA */
    --foreground-hsl: 220 3% 13%; /* Google's --md-sys-color-on-surface: #1F2022 */
    
    --primary-hsl: 221 89% 64%; /* Google's --md-sys-color-primary: #4285F4 */
    --primary-foreground-hsl: 0 0% 100%; /* Google's --md-sys-color-on-primary: #FFFFFF */

    --secondary-hsl: 212 93% 96%; /* Google's --md-sys-color-secondary-container: #E8F0FE */
    --secondary-foreground-hsl: 213 79% 44%; /* Google's --md-sys-color-on-secondary-container: #1967D2 */

    --accent-hsl: 36 100% 50%; /* Using a default for now, can be changed */
    --accent-foreground-hsl: 222.2 47.4% 11.2%;
    
    --card-hsl: 0 0% 100%;
    --card-foreground-hsl: 220 3% 13%;

    --popover-hsl: 0 0% 100%;
    --popover-foreground-hsl: 220 3% 13%;

    --destructive-hsl: 0 84.2% 60.2%;
    --destructive-foreground-hsl: 210 40% 98%;

    --muted-hsl: 212 93% 96%; /* Matches secondary for a consistent feel */
    --muted-foreground-hsl: 215.4 16.3% 46.9%;

    --border-hsl: 220 13% 89%; /* Google's --md-sys-color-outline: #DADCE0 */
    --input-hsl: 220 13% 89%; /* Google's --md-sys-color-outline: #DADCE0 */
    --ring-hsl: 221 89% 64%; /* Google's --md-sys-color-primary: #4285F4 */

    --radius: 0.5rem;
  }

  .dark {
    /* Keeping dark theme as is for now, can be themed later */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* YOUR CUSTOM STYLES */
:root {
    /* Primary */
    --md-sys-color-primary: #4285F4;
    --md-sys-color-on-primary: #FFFFFF;
    --md-sys-color-primary-container: #DCEAFE;
    --md-sys-color-on-primary-container: #0D47A1;
    /* Secondary (Tonal Buttons) */
    --md-sys-color-secondary-container: #E8F0FE;
    --md-sys-color-on-secondary-container: #1967D2;
    /* Surface */
    --md-sys-color-surface-bright: #F8F9FA;
    --md-sys-color-surface-container-low: #F1F3F4;
    --md-sys-color-surface-container: #ECEFF1;
    --md-sys-color-on-surface: #1F2022;
    --md-sys-color-on-surface-variant: #5F6368;
    /* Outline */
    --md-sys-color-outline: #DADCE0;
    --md-sys-color-outline-variant: #BDC1C6;
    /* State Layers */
    --md-sys-state-hover-on-primary: rgba(255, 255, 255, 0.08);
    --md-sys-state-pressed-on-primary: rgba(255, 255, 255, 0.12);
    --md-sys-state-hover-on-secondary: rgba(0, 0, 0, 0.08);
    --md-sys-state-pressed-on-secondary: rgba(0, 0, 0, 0.12);
    --md-sys-state-hover-surface: rgba(31, 32, 34, 0.08);
    --md-sys-state-pressed-surface: rgba(31, 32, 34, 0.12);
}

/* Base Styles */
body {
    font-family: var(--font-roboto), sans-serif;
    background-color: var(--md-sys-color-surface-bright);
    color: var(--md-sys-color-on-surface);
    -webkit-tap-highlight-color: transparent;
}

/* Typography Scale */
.display-large { font-size: 56px; line-height: 64px; font-weight: 400; letter-spacing: -0.5px; }
.display-medium { font-size: 45px; line-height: 52px; font-weight: 400; }
.display-small { font-size: 36px; line-height: 44px; font-weight: 400; }
.headline-large { font-size: 32px; line-height: 40px; font-weight: 400; }
.title-large { font-size: 22px; line-height: 28px; font-weight: 500; }
.title-medium { font-size: 16px; line-height: 24px; font-weight: 500; letter-spacing: 0.15px; }
.body-large { font-size: 16px; line-height: 24px; font-weight: 400; letter-spacing: 0.5px; }
.body-medium { font-size: 14px; line-height: 20px; font-weight: 400; letter-spacing: 0.25px; }
.label-large { font-size: 14px; line-height: 20px; font-weight: 500; letter-spacing: 0.1px; }
.label-medium { font-size: 12px; line-height: 16px; font-weight: 500; letter-spacing: 0.5px; }

/* Main App Container */
#app-container {
    width: 100%; min-height: 100vh; background-color: var(--md-sys-color-surface-bright);
    display: flex; flex-direction: column;
}

/* Top App Bar */
#top-app-bar {
    display: flex; align-items: center; padding: 8px 16px; height: 64px; flex-shrink: 0;
    width: 100%; max-width: 960px; margin-left: auto; margin-right: auto;
}
#back-btn { display: none; }
#app-title { margin-left: 16px; }

/* Screen Transitions */
.screen {
    flex-grow: 1; overflow-y: auto; padding: 16px; opacity: 0;
    transform: translateY(16px); transition: opacity 0.3s ease, transform 0.3s ease;
    display: none; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto;
}
.screen.active {
    display: flex; flex-direction: column; opacity: 1; transform: translateY(0);
}

/* RIPPLE EFFECT STYLES */
.ripple-surface { position: relative; overflow: hidden; }
.ripple {
    position: absolute; border-radius: 50%; background-color: currentColor;
    opacity: 0.2; transform: scale(0); animation: ripple-animation 600ms linear;
}
@keyframes ripple-animation { to { transform: scale(4); opacity: 0; } }

/* Material Components */
.icon-button { padding: 8px; border-radius: 50%; }
.filled-button, .tonal-button {
    height: 40px; padding: 0 24px; border-radius: 20px;
    display: inline-flex; align-items: center; justify-content: center;
}
.filled-button {
    background-color: var(--md-sys-color-primary); color: var(--md-sys-color-on-primary);
}
.filled-button:hover { background-image: linear-gradient(var(--md-sys-state-hover-on-primary), var(--md-sys-state-hover-on-primary)); }
.filled-button:active { background-image: linear-gradient(var(--md-sys-state-pressed-on-primary), var(--md-sys-state-pressed-on-primary)); }
.tonal-button {
    background-color: var(--md-sys-color-secondary-container); color: var(--md-sys-color-on-secondary-container);
}
.app-card {
    border: 1px solid var(--md-sys-color-outline); border-radius: 12px;
    padding: 16px; text-align: left;
}
.app-card:hover { background-color: var(--md-sys-state-hover-surface); }
.number-chip {
    width: 100%; height: 48px; border-radius: 8px; border: 1px solid var(--md-sys-color-outline);
    color: var(--md-sys-color-primary);
}
.number-chip.selected {
    background-color: var(--md-sys-color-primary-container); color: var(--md-sys-color-on-primary-container);
    border-color: var(--md-sys-color-primary);
}
.choice-chip {
    height: 32px; padding: 0 12px; border-radius: 8px;
    display: inline-flex; align-items: center; justify-content: center;
    border: 1px solid var(--md-sys-color-outline);
    color: var(--md-sys-color-on-surface-variant);
    gap: 6px;
}
.choice-chip .material-symbols-outlined { font-size: 18px; display: none; }
.choice-chip.selected {
    background-color: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container); border: none;
}
.choice-chip.selected .material-symbols-outlined { display: inline-block; }

/* Outlined Text Field */
.text-field { position: relative; margin-top: 16px; }
.text-field input {
    height: 56px; width: 100%; padding: 16px; border-radius: 4px;
    border: 1px solid var(--md-sys-color-outline); background: none; outline: none;
    color: var(--md-sys-color-on-surface);
}
.text-field input:disabled { color: var(--md-sys-color-on-surface-variant); }
.text-field label {
    position: absolute; left: 16px; top: 50%; transform: translateY(-50%);
    pointer-events: none; color: var(--md-sys-color-on-surface-variant);
    transition: all 0.2s ease; background-color: var(--md-sys-color-surface-bright);
    padding: 0 4px;
}
.text-field input:focus + label, .text-field input:not(:placeholder-shown) + label {
    top: 0; font-size: 12px; color: var(--md-sys-color-primary);
}
.text-field input:focus { border-color: var(--md-sys-color-primary); border-width: 2px; padding: 15px; }

/* Improved Range Slider Styles */
.range-slider-wrapper {
    position: relative;
    padding: 24px 0 8px 0;
}
#slider-value-label {
    position: absolute;
    top: 0px;
    background-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary);
    padding: 4px 8px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    transform: translateX(-50%);
    pointer-events: none;
    white-space: nowrap;
}
input[type="range"] {
    -webkit-appearance: none; appearance: none;
    width: 100%; height: 4px; background: var(--md-sys-color-primary-container);
    border-radius: 2px; outline: none;
}
input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none; appearance: none;
    width: 20px; height: 20px; border-radius: 50%;
    background: var(--md-sys-color-primary); cursor: pointer;
    border: 4px solid var(--md-sys-color-surface-bright);
}
input[type="range"]::-moz-range-thumb {
    width: 12px; height: 12px; border-radius: 50%;
    background: var(--md-sys-color-primary); cursor: pointer;
    border: 4px solid var(--md-sys-color-surface-bright);
}

@media (min-width: 640px) {
    .display-large { font-size: 88px; line-height: 96px; }
    .display-medium { font-size: 57px; line-height: 64px; }
    .display-small { font-size: 45px; line-height: 52px; }
    #top-app-bar { padding: 8px 24px; }
    .screen { padding: 24px; }
}
